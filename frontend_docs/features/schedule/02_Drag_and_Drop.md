# Drag-and-Drop (Перетаскивание)

**Хук:** `features/schedule/hooks/useScheduleInteraction.ts`

## 1. Основные правила
*   **Native API:** Используется нативный HTML5 Drag and Drop API (`draggable`, `onDragStart`, `onDrop`).
*   **Зоны дропа:** Весь контейнер дня (`DayColumn.Content`) является зоной дропа.

## 2. Логика перемещения vs Копирования

При перетаскивании элемента на другой день система определяет действие:

1.  **Перемещение (Move):**
    *   Для обычных отложенных постов и заметок.
    *   Открывается `ConfirmMoveModal` для уточнения времени.
    *   В модальном окне можно *переключиться* на режим копирования.

2.  **Копирование (Copy) [Автоматическое]:**
    *   Срабатывает для:
        *   **Опубликованных постов:** Их нельзя переместить (они уже в истории), поэтому создается копия.
        *   **Системных постов в статусе `publishing`:** Они заблокированы для изменений, поэтому создается копия.
    *   В этом случае `ConfirmMoveModal` пропускается, и сразу открывается `PostDetailsModal` в режиме `copy` с предустановленной новой датой.

## 3. Ограничения
*   **Режим выбора:** Если включен режим массового выбора (`isSelectionMode`), Drag-and-Drop полностью отключается, чтобы не мешать кликам.
*   **Визуальная обратная связь:** При перетаскивании над зоной дропа, она подсвечивается (`bg-indigo-100`).