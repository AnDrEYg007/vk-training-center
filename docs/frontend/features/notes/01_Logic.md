# Логика Заметок (Notes)

**Компонент:** `features/notes/components/NoteCard.tsx`
**Модальное окно:** `features/notes/components/NoteModal.tsx`
**API:** `services/api/note.api.ts`

## 1. Сущность Заметки
Заметка — это простая единица контента, привязанная к дате и времени, но не предназначенная для публикации в VK.
*   **Поля:** `title` (опционально), `text`, `color`, `date`.
*   **Цветовое кодирование:** Пользователь может выбрать один из 7 пастельных цветов. Цвет сохраняется как HEX-код и определяет стиль карточки и модального окна просмотра.

## 2. Взаимодействие в календаре
*   **Drag-and-Drop:** Заметки поддерживают перетаскивание между днями.
    *   При дропе вызывается `api.saveNote` с новой датой.
    *   Если зажат `Ctrl` (или выбран режим копирования в модальном окне), создается новая заметка (`new-note-...`).
*   **Видимость:** В шапке календаря есть переключатель, который меняет состояние отображения заметок:
    1.  `Expanded`: Полный текст.
    2.  `Collapsed`: Только заголовок (или первая строка) и время.
    3.  `Hidden`: Заметки скрыты из сетки.

## 3. Модальные окна
*   **Просмотр (`NotePreviewModal`):** Только для чтения. Стиль шапки соответствует цвету заметки.
*   **Редактирование (`NoteModal`):** Позволяет изменить текст, дату, время и цвет.
*   **Создание:** Вызывается двойным кликом по дню или кнопкой в хедере. Автоматически подставляет выбранную дату и дефолтное время (9:00).