## Компонент: Поля ввода и контролы

Эти элементы используются для сбора данных от пользователя и управления отображением контента.

### 1. Текстовые поля (`<input type="text">`, `<textarea>`)

-   **Применение**: Используются во всех формах для ввода текста, дат, времени.
-   **Состояния**:
    -   **Default**: Серая рамка (`border-gray-300`).
    -   **Focus**: Синяя рамка и тень (`focus:ring-2 focus:ring-indigo-500`), сигнализируя о готовности к вводу.
    -   **Error**: Красная рамка (`border-red-500`) и легкая тень при фокусе (`focus:ring-red-500`). Используется для индикации ошибок валидации (например, дублирующиеся значения). Под полем должно отображаться текстовое сообщение с описанием ошибки.
    -   **Disabled**: Светло-серый фон (`bg-gray-100`), курсор `not-allowed`.
-   **Стилизация скроллбара**:
    -   Для всех многострочных текстовых полей (`<textarea>`) необходимо добавлять глобальный класс `custom-scrollbar` для обеспечения единого, минималистичного стиля полосы прокрутки во всем приложении.

#### Правила размещения

- **Отступы для состояния фокуса**: Чтобы избежать визуального "обрезания" синей или красной рамки (`focus:ring-2`), которая отрисовывается *снаружи* элемента, необходимо обеспечить минимальный отступ (например, `p-1` или `4px`) между полем ввода и краем его родительского контейнера.

### 2. Фильтры-кнопки (Button Filters)

-   **Применение**: В сайдбаре для фильтрации проектов по командам и количеству постов.
-   **Структура**: Набор кнопок, из которых только одна может быть активной.
-   **Внешний вид**:
    -   **Неактивная**: Светло-серая кнопка (`bg-gray-200`).
    -   **Активная**: Имеет синюю рамку (`ring-2 ring-indigo-500`) или яркий фон (для фильтров по контенту).
    -   **Фокус**: Для улучшения визуальной чистоты, стандартная обводка фокуса (`focus:ring`) может быть отключена, если активное состояние визуально очевидно.
    -   **Стилизация**: Часто имеют скругленную форму (`rounded-full`).

### 3. Переключатели (Toggles)

-   **Применение**: Для включения/отключения опций, например, "Создать несколько постов" или "Мультипроектная публикация".
-   **Структура**: Стилизованный чекбокс в виде переключателя.
-   **Состояния**:
    -   **Выключено**: Серый фон (`bg-gray-300`).
    -   **Включено**: Синий фон (`bg-indigo-600`).
    -   **Анимация**: Ползунок плавно перемещается при переключении.

### 4. Чекбоксы (Checkboxes)

-   **Применение**: Для выбора элементов в режиме массового выделения (на карточках) или в мультипроектном селекторе.
-   **Внешний вид**:
    -   **Не выбран**: Белый квадрат с серой рамкой.
    -   **Выбран**: Внутри квадрата появляется синяя "галочка".
    -   **Disabled**: Состояние и фон приглушены.

### 5. Выбор цвета (Color Picker)

-   **Применение**: Используется для выбора цвета тегов в `TagsEditor` и `TagsManagementModal`.
-   **Структура**:
    -   Круглая кнопка, отображающая текущий выбранный цвет.
    -   При нажатии на кнопку появляется выпадающий список (dropdown/popover) с предопределенной палитрой цветов.
-   **Поведение**:
    -   Выпадающий список рендерится с использованием React Portal, чтобы избежать проблем с обрезкой (`overflow`) в модальных окнах.
    -   Список автоматически позиционируется под кнопкой и закрывается при выборе цвета или клике за его пределами.
-   **Реализация**: `ColorPickerDropdown`.

### 6. Кастомный выпадающий список (CustomSelect)

-   **Применение**: Используется в редактируемой таблице (`ProjectTable`) для выбора команды проекта.
-   **Структура**: Кнопка-триггер, отображающая текущее значение, и выпадающий список, появляющийся по клику.
-   **Ключевые особенности**:
    -   **Рендеринг через портал (`createPortal`)**: Список рендерится в `document.body`, чтобы избежать обрезки границами таблицы.
    -   **Динамическое позиционирование**: Позиция списка вычисляется на лету.
    -   **Встроенное создание опций**: Внутри списка есть опция "+ Создать" для добавления новой команды.
-   **Реализация**: `features/database-management/components/ProjectTable.tsx`.

### 7. Селекторы с поиском и порталами (Searchable Selects with Portals)

-   **Применение:** Используются в таблице товаров (`ProductsTable`) для выбора подборки (`AlbumSelector`) и категории (`CategorySelector`).
-   **Структура:** Компонент, имитирующий стандартный `<select>`, но с расширенными возможностями. Состоит из кнопки, отображающей текущее значение, и выпадающего меню с полем для поиска.
-   **Ключевые особенности:**
    -   **Рендеринг через портал (`createPortal`):** Выпадающее меню рендерится в `document.body` для избежания проблем с обрезкой (`overflow`) внутри таблицы.
    -   **Поиск "на лету":** Позволяет быстро фильтровать длинные списки опций.
    -   **Группировка:** `CategorySelector` отображает категории, сгруппированные по родительским секциям.
    -   **Интеграция с AI:** `CategorySelector` в таблице товаров имеет дополнительную кнопку "AI", которая запускает процесс автоматического подбора категории.
-   **Реализация:** `features/products/components/AlbumSelector.tsx`, `features/products/components/CategorySelector.tsx`.

### 8. Сегментированный переключатель (Segmented Control)

-   **Применение**: Для переключения между двумя или более взаимоисключающими режимами.
-   **Структура**: Горизонтальная группа кнопок в контейнере `bg-gray-200`. Активная кнопка выделяется белым фоном и тенью.
-   **Поведение**:
    -   **Неактивная**: Прозрачный фон, `hover:bg-gray-300`.
    -   **Активная**: `bg-white shadow`.
    -   **Фокус**: Использование `focus:outline-none` допустимо, так как активное состояние (белый фон и тень) достаточно контрастно.
-   **Примеры**:
    -   Переключатель вида в сайдбаре: "Отложенные" / "Предложенные".
    -   Переключатель вида в календаре: "Неделя" / "Сегодня".
    -   Выбор места назначения копии: "В систему" / "В отложку VK" в `ConfirmMoveModal`.

### 9. Пикеры даты и времени (Custom Pickers)

-   **Применение**: Выбор даты и времени в модальном окне создания поста и в настройках циклической публикации.
-   **Структура**:
    -   **Кнопка-триггер**: Выглядит как стандартное поле ввода, но открывается по клику. Отображает текущее значение (или плейсхолдер) и соответствующую иконку (календарь или часы).
    -   **Выпадающее меню**: Рендерится через **React Portal**, чтобы гарантированно отображаться поверх других элементов (особенно внутри модальных окон с `overflow: hidden`).
-   **`CustomDatePicker`**:
    -   Отображает месяц, год и сетку дней.
    -   Поддерживает навигацию по месяцам.
    -   Выделяет текущий день и выбранный день.
    -   Локализует названия месяцев и дней недели (русский язык).
-   **`CustomTimePicker`**:
    -   Отображает две колонки с прокруткой: часы (00-23) и минуты (с шагом 5).
    -   Выделяет текущее выбранное время.
-   **Реализация**: `shared/components/pickers/CustomDatePicker.tsx`, `shared/components/pickers/CustomTimePicker.tsx`.