# 3. Макеты (Layouts)

Этот документ описывает основные структурные сетки и макеты, используемые в приложении.

## 1. Основная структура приложения

Приложение использует постоянную двухколоночную структуру:

-   **Левая колонка (Сайдбар)**: Фиксированная ширина (`w-72`). Содержит навигацию по проектам и фильтры. Всегда видима на экране.
-   **Правая колонка (Основной контент)**: Занимает все оставшееся пространство (`flex-1`). В этой области отображаются основные экраны: расписание, предложенные посты или экран приветствия.

## 2. Сетка расписания (Schedule View)

-   **Структура**: Семиколоночная сетка, где каждая колонка представляет один день недели.
-   **Адаптивность**: На малых экранах колонки перестраиваются друг под друга (`grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-7`).
-   **Поведение**:
    -   Высота сетки подстраивается под высоту окна браузера.
    -   Контент внутри колонок (посты и заметки) скроллится вертикально, если не помещается на экране.
    -   Поддерживает Drag-and-Drop для перемещения постов.

## 3. Макет предложенных постов (Suggested Posts View)

Этот макет является динамическим и имеет два состояния:

1.  **Состояние по умолчанию**:
    -   Посты отображаются в виде сетки, занимая примерно по половине ширины доступной области (`max-w-[calc(50%-0.5rem)]`), что позволяет видеть несколько постов одновременно.
    -   Сетка скроллится вертикально.

2.  **Состояние выбора (когда пост выбран для редактирования)**:
    -   Экран делится на две равные колонки (`w-1/2`).
    -   **В левой колонке**: Выбранная карточка поста.
    -   **В правой колонке**: Панель AI-редактора.
    -   Остальные (невыбранные) посты остаются в левой части экрана, но выше или ниже активного блока.

---

## 4. Макет управления базой данных (`DatabaseManagementPage`)

Этот макет является двухрежимным и позволяет переключаться между основным видом и архивом.

1.  **Основной вид (`main`)**:
    -   **Назначение**: Массовое редактирование активных (неархивированных) проектов.
    -   **Структура**: Полноэкранная редактируемая таблица (`ProjectTable`), занимающая всю доступную область контента.
    -   **Элементы управления**: В шапке страницы находятся кнопки для добавления проектов, сохранения изменений, управления колонками таблицы, перехода в архив и **автонумерации**.
        -   **Кэширование колонок:** Настройки видимости колонок сохраняются в `localStorage` браузера, поэтому ваш выбор сохраняется между сессиями.
        -   **Кнопка "Auto №":** Позволяет автоматически заполнить пустые поля "№" для всех проектов.

2.  **Вид "Архив" (`archive`)**:
    -   **Назначение**: Просмотр, восстановление и безвозвратное удаление архивированных проектов.
    -   **Структура**: Отдельный компонент (`ArchivePage`) с упрощенной, нередактируемой таблицей, отображающей только ключевую информацию об архивированных проектах.
    -   **Действия**:
        -   **Восстановить**: Возвращает проект из архива в основной список.
        -   **Безвозвратно удалить** (только для администраторов): Полностью удаляет проект и все связанные с ним данные из системы.

---

## 5. Паттерны пустых состояний (Empty States Patterns)

Пустые состояния важны для информирования пользователя, когда данных нет или они еще не созданы.

-   **Назначение**: Используются для начального экрана (`WelcomeScreen`), когда не выбран проект, или когда по запросу ничего не найдено (`EmptyState` в предложенных постах).
-   **Стандартная структура**:
    1.  **Иконка**: Крупная, стилизованная иконка, передающая смысл состояния (например, иконка документа для приветствия, иконка ошибки).
    2.  **Заголовок**: Краткий и ясный текст, описывающий ситуацию (`"Добро пожаловать!"`, `"Нет предложенных постов"`).
    3.  **Поясняющий текст**: Одно-два предложения, которые объясняют, что происходит, или подсказывают следующий шаг.
-   **Примеры из кода**: `WelcomeScreen.tsx`, `features/suggested-posts/components/EmptyState.tsx`.

---

## 6. Паттерны уведомлений на странице (In-Page Notifications)

-   **Назначение**: Используются для отображения важной контекстной информации, относящейся ко всей текущей вкладке (например, ошибка доступа к проекту, информация о пустом списке постов).
-   **Внешний вид**: Представляют собой баннеры, расположенные под шапкой страницы.
-   **Стандартная структура**:
    1.  **Цвет и иконка**: Цвет фона, левой границы и иконки соответствует семантическому значению сообщения (желтый/оранжевый для предупреждений, синий для информации).
    2.  **Заголовок**: Краткий и ясный заголовок (`"Ошибка доступа"`, `"Информация"`).
    3.  **Текст сообщения**: Поясняющий текст, который объясняет ситуацию и, по возможности, предлагает следующий шаг.
-   **Реализация**: Этот паттерн реализован в компонентах `ScheduleTab.tsx` и `SuggestedPostsTab.tsx` для отображения `permissionErrorMessage` и `empty...Message`.