# –ú–æ–¥—É–ª—å –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–π ‚Äî –û–±–∑–æ—Ä

–ú–æ–¥—É–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–π (`services/automations/`) —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–æ–≥–∏–∫—É –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á –≤ –ø—Ä–æ–µ–∫—Ç–µ.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è

```
services/automations/
‚îú‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ ai_posts_service.py       # AI-–ø–æ—Å—Ç—ã (–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞)
‚îú‚îÄ‚îÄ stories_service.py        # –§–∞—Å–∞–¥ –¥–ª—è —Å—Ç–æ—Ä–∏—Å
‚îú‚îÄ‚îÄ stories_background_service.py  # –§–æ–Ω–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç–æ—Ä–∏—Å
‚îÇ
‚îú‚îÄ‚îÄ stories/                  # –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∏—Å—Ç–æ—Ä–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ core.py              # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ logic.py             # –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ stats.py             # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å—Ç–æ—Ä–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ retrieval.py         # –ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–π –∏–∑ VK
‚îÇ
‚îú‚îÄ‚îÄ reviews/                  # –ö–æ–Ω–∫—É—Ä—Å –æ—Ç–∑—ã–≤–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ service.py           # –§–∞—Å–∞–¥ (—Ö–∞–±)
‚îÇ   ‚îú‚îÄ‚îÄ collector.py         # –°–±–æ—Ä —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ processor.py         # –û–±—Ä–∞–±–æ—Ç–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ finalizer.py         # –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∫–æ–Ω–∫—É—Ä—Å–∞
‚îÇ   ‚îú‚îÄ‚îÄ execution.py         # –ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ
‚îÇ   ‚îú‚îÄ‚îÄ retrieval.py         # –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ blacklist_service.py # –ß—ë—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫
‚îÇ   ‚îî‚îÄ‚îÄ scheduler.py         # –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
‚îÇ
‚îî‚îÄ‚îÄ general/                  # –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ —Ä–æ–∑—ã–≥—Ä—ã—à–∏
    ‚îú‚îÄ‚îÄ service.py           # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å
    ‚îú‚îÄ‚îÄ collector.py         # –°–±–æ—Ä —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
    ‚îú‚îÄ‚îÄ finalizer.py         # –ü–æ–¥–≤–µ–¥–µ–Ω–∏–µ –∏—Ç–æ–≥–æ–≤
    ‚îî‚îÄ‚îÄ crud.py              # –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –ë–î
```

## üîÑ –¢–∏–ø—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–π

### 1. Stories Automation (–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∏—Å—Ç–æ—Ä–∏–π)
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ Stories –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ—Å—Ç–æ–≤ —Å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º —Ö–µ—à—Ç–µ–≥–æ–º.

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [01_Stories_Automation.md.txt](./01_Stories_Automation.md.txt)

### 2. Review Contests (–ö–æ–Ω–∫—É—Ä—Å—ã –æ—Ç–∑—ã–≤–æ–≤)
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–Ω–∫—É—Ä—Å—ã —Å –∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –ø–æ—Å—Ç–æ–≤ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤.

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [02_Review_Contests.md.txt](./02_Review_Contests.md.txt)

### 3. General Contests (–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ —Ä–æ–∑—ã–≥—Ä—ã—à–∏)
–†–æ–∑—ã–≥—Ä—ã—à–∏ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏ —É—á–∞—Å—Ç–∏—è.

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [03_General_Contests.md.txt](./03_General_Contests.md.txt)

### 4. AI Posts (AI-–ø–æ—Å—Ç—ã)
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é AI.

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [04_AI_Posts.md.txt](./04_AI_Posts.md.txt)

## ‚ö° –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ä–æ—É—Ç–µ—Ä—ã

| –†–æ—É—Ç–µ—Ä | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|------|----------|
| `stories_automation.py` | `/api/stories-automation/` | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –ª–æ–≥ –∏—Å—Ç–æ—Ä–∏–π |
| `automations.py` | `/api/automations/` | –ö–æ–Ω–∫—É—Ä—Å—ã –æ—Ç–∑—ã–≤–æ–≤ |
| `automations_general.py` | `/api/general-contests/` | –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ —Ä–æ–∑—ã–≥—Ä—ã—à–∏ |
| `automations_ai.py` | `/api/ai-posts/` | AI-–ø–æ—Å—Ç—ã |

## üóÑÔ∏è –°–≤—è–∑–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏

| –ú–æ–¥–µ–ª—å | –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|------|----------|
| `StoriesAutomation` | `automations.py` | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∏—Å—Ç–æ—Ä–∏–π |
| `StoriesAutomationLog` | `automations.py` | –õ–æ–≥ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏–π |
| `ReviewContest` | `automations.py` | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω–∫—É—Ä—Å–∞ –æ—Ç–∑—ã–≤–æ–≤ |
| `ReviewContestEntry` | `automations.py` | –£—á–∞—Å—Ç–Ω–∏–∫–∏ –∫–æ–Ω–∫—É—Ä—Å–∞ |
| `ReviewContestBlacklist` | `automations.py` | –ß—ë—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫ |
| `PromoCode` | `automations.py` | –ü—Ä–æ–º–æ–∫–æ–¥—ã –¥–ª—è –ø—Ä–∏–∑–æ–≤ |
| `GeneralContest` | `general_contests.py` | –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ —Ä–æ–∑—ã–≥—Ä—ã—à–∏ |

## ‚è∞ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ (Scheduler)

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ APScheduler –≤ `scheduler_service.py`:

```python
# –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤ ‚Äî –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
scheduler.add_job(job_system_post_publisher, 'interval', minutes=1)

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–π ‚Äî –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
scheduler.add_job(job_stories_automation, 'interval', minutes=5)

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–æ–Ω–∫—É—Ä—Å–æ–≤ ‚Äî –∫–∞–∂–¥—ã–π —á–∞—Å
scheduler.add_job(job_check_contests, 'interval', hours=1)
```

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 23 —è–Ω–≤–∞—Ä—è 2026*
