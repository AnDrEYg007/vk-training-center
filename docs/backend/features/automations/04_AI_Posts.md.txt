# AI Posts (AI-–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–µ –ø–æ—Å—Ç—ã)

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞.

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

AI Posts –ø–æ–∑–≤–æ–ª—è—é—Ç:
1. –°–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ—Å—Ç—ã —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π —Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑ Gemini AI
2. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –ø—Ä–æ–º–ø—Ç—ã (—Å–∏—Å—Ç–µ–º–Ω—ã–π –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π)
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ç–æ–≤–∞—Ä–∞ –∏/–∏–ª–∏ –∫–æ–º–ø–∞–Ω–∏–∏
4. –ü–æ–¥—Å—Ç–∞–≤–ª—è—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
5. –ì–∏–±–∫–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –º–µ–¥–∏–∞-–≤–ª–æ–∂–µ–Ω–∏—è–º–∏ (–≤—Å–µ —Ñ–æ—Ç–æ, —Å–ª—É—á–∞–π–Ω–∞—è –≤—ã–±–æ—Ä–∫–∞, –ø–æ –ø–æ—Ä—è–¥–∫—É)
6. –ü–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Ü–∏–∫–ª–∏—á–µ—Å–∫—É—é –ø—É–±–ª–∏–∫–∞—Ü–∏—é (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ, –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ –∏ —Ç.–¥.)

## üóÇÔ∏è –§–∞–π–ª—ã –º–æ–¥—É–ª—è

```
services/automations/
‚îî‚îÄ‚îÄ ai_posts_service.py   # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å

services/
‚îú‚îÄ‚îÄ ai_service.py         # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AI (legacy)
‚îú‚îÄ‚îÄ gemini_service.py     # –†–∞–±–æ—Ç–∞ —Å Google Gemini API
‚îî‚îÄ‚îÄ global_variable_service.py  # –ü–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

crud/
‚îî‚îÄ‚îÄ project_context_crud.py  # –ö–æ–Ω—Ç–µ–∫—Å—Ç –∫–æ–º–ø–∞–Ω–∏–∏
```

## ‚öôÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### SystemPost (post_type='ai_feed')

AI-–ø–æ—Å—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ `SystemPost` —Å —Ç–∏–ø–æ–º `ai_feed`:

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | String (PK) | UUID |
| `project_id` | String (FK) | ID –ø—Ä–æ–µ–∫—Ç–∞ |
| `post_type` | String | `ai_feed` |
| `publication_date` | DateTime | –î–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ |
| `text` | Text | –¢–µ–∫—Å—Ç (–ø–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏) |
| `images` | Text (JSON) | –°–ø–∏—Å–æ–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–ø—É–ª) |
| `attachments` | Text (JSON) | –í–ª–æ–∂–µ–Ω–∏—è |
| `status` | String | `pending_publication` / `published` / `error` |
| **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ** | | |
| `title` | String | –ù–∞–∑–≤–∞–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ |
| `description` | String | –û–ø–∏—Å–∞–Ω–∏–µ |
| `is_active` | Boolean | –ê–∫—Ç–∏–≤–Ω–∞ –ª–∏ |
| **–¶–∏–∫–ª–∏—á–Ω–æ—Å—Ç—å** | | |
| `is_cyclic` | Boolean | `True` |
| `recurrence_type` | String | `daily` / `weekly` / `monthly` |
| `recurrence_interval` | Integer | –ò–Ω—Ç–µ—Ä–≤–∞–ª (–∫–∞–∂–¥—ã–µ N –¥–Ω–µ–π/–Ω–µ–¥–µ–ª—å) |
| `recurrence_end_type` | String | `never` / `count` / `date` |
| `recurrence_end_count` | Integer | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π |
| `recurrence_end_date` | DateTime | –î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è |
| `recurrence_fixed_day` | Integer | –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–µ–Ω—å –º–µ—Å—è—Ü–∞ |
| `recurrence_is_last_day` | Boolean | –ü–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–Ω—å –º–µ—Å—è—Ü–∞ |
| **AI –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** | | |
| `ai_generation_params` | Text (JSON) | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ |

### ai_generation_params ‚Äî JSON —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```json
{
  // –ü—Ä–æ–º–ø—Ç—ã
  "systemPrompt": "–¢—ã –∫–æ–ø–∏—Ä–∞–π—Ç–µ—Ä...",
  "userPrompt": "–ù–∞–ø–∏—à–∏ –ø–æ—Å—Ç –æ —Ç–æ–≤–∞—Ä–µ {product}",
  
  // –ö–æ–Ω—Ç–µ–∫—Å—Ç —Ç–æ–≤–∞—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  "productId": "project_123_456",
  "productFields": ["title", "price", "description"],
  
  // –ö–æ–Ω—Ç–µ–∫—Å—Ç –∫–æ–º–ø–∞–Ω–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  "companyFields": ["–ù–∞–∑–≤–∞–Ω–∏–µ", "–ê–¥—Ä–µ—Å", "–¢–µ–ª–µ—Ñ–æ–Ω"],
  
  // –†–µ–∂–∏–º –º–µ–¥–∏–∞
  "mediaMode": "all" | "subset",
  "mediaSubsetCount": 3,
  "mediaSubsetType": "random" | "order",
  "mediaCursor": 0  // –î–ª—è —Ä–µ–∂–∏–º–∞ order
}
```

## üîÑ –ê–ª–≥–æ—Ä–∏—Ç–º –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

### –ú–µ—Ç–æ–¥ `generate_and_publish_post()`

```
1. –°–ë–û–† –ö–û–ù–¢–ï–ö–°–¢–ê
   ‚îÇ
   ‚îú‚îÄ –ü–æ–ª—É—á–∞–µ–º AI –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ JSON
   ‚îÇ
   ‚îú‚îÄ –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω productId:
   ‚îÇ   ‚îî‚îÄ –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–æ–≤–∞—Ä –∏–∑ MarketItem
   ‚îÇ   ‚îî‚îÄ –§–æ—Ä–º–∏—Ä—É–µ–º [–ö–û–ù–¢–ï–ö–°–¢ –¢–û–í–ê–†–ê]
   ‚îÇ
   ‚îî‚îÄ –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω—ã companyFields:
       ‚îî‚îÄ –ó–∞–≥—Ä—É–∂–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ ProjectContextValue
       ‚îî‚îÄ –§–æ—Ä–º–∏—Ä—É–µ–º [–ö–û–ù–¢–ï–ö–°–¢ –ö–û–ú–ü–ê–ù–ò–ò]
       
2. –ì–ï–ù–ï–†–ê–¶–ò–Ø –¢–ï–ö–°–¢–ê
   ‚îÇ
   ‚îú‚îÄ –°–æ–±–∏—Ä–∞–µ–º –ø—Ä–æ–º–ø—Ç: –∫–æ–Ω—Ç–µ–∫—Å—Ç + userPrompt
   ‚îÇ
   ‚îú‚îÄ –í—ã–∑—ã–≤–∞–µ–º gemini_service.generate_text()
   ‚îÇ   ‚îî‚îÄ –°—Ç—Ä–∞—Ç–µ–≥–∏—è: CREATIVE
   ‚îÇ
   ‚îî‚îÄ –ü–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
   
3. –û–ë–†–ê–ë–û–¢–ö–ê –ú–ï–î–ò–ê
   ‚îÇ
   ‚îú‚îÄ mediaMode='all':
   ‚îÇ   ‚îî‚îÄ –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ –ø—É–ª–∞
   ‚îÇ
   ‚îî‚îÄ mediaMode='subset':
       ‚îÇ
       ‚îú‚îÄ mediaSubsetType='random':
       ‚îÇ   ‚îî‚îÄ –°–ª—É—á–∞–π–Ω–∞—è –≤—ã–±–æ—Ä–∫–∞ N —Ñ–æ—Ç–æ
       ‚îÇ
       ‚îî‚îÄ mediaSubsetType='order':
           ‚îú‚îÄ –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –≤—ã–±–æ—Ä–∫–∞ –æ—Ç –∫—É—Ä—Å–æ—Ä–∞
           ‚îî‚îÄ –û–±–Ω–æ–≤–ª—è–µ–º –∫—É—Ä—Å–æ—Ä –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ä–∞–∑–∞
           
4. –ü–£–ë–õ–ò–ö–ê–¶–ò–Ø
   ‚îÇ
   ‚îú‚îÄ –°–æ–∑–¥–∞—ë–º ScheduledPost schema
   ‚îú‚îÄ –í—ã–∑—ã–≤–∞–µ–º post_service.publish_now()
   ‚îî‚îÄ –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç –≤ –±–∞–∑–µ (–¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏)
```

## üåê API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –†–æ—É—Ç–µ—Ä: `routers/automations_ai.py`

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|------|----------|
| `GET` | `/api/ai-posts/{project_id}` | –°–ø–∏—Å–æ–∫ AI-–ø–æ—Å—Ç–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞ |
| `POST` | `/api/ai-posts/` | –°–æ–∑–¥–∞—Ç—å AI-–ø–æ—Å—Ç |
| `PUT` | `/api/ai-posts/{id}` | –û–±–Ω–æ–≤–∏—Ç—å AI-–ø–æ—Å—Ç |
| `DELETE` | `/api/ai-posts/{id}` | –£–¥–∞–ª–∏—Ç—å AI-–ø–æ—Å—Ç |
| `POST` | `/api/ai-posts/{id}/generate-preview` | –ü—Ä–µ–≤—å—é –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ |

## üìù –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –°–æ–∑–¥–∞—Ç—å AI-–ø–æ—Å—Ç

```json
POST /api/save-post

{
  "projectId": "uuid-–ø—Ä–æ–µ–∫—Ç–∞",
  "post": {
    "id": "new-post-123",
    "date": "2026-02-01T12:00:00Z",
    "text": "",
    "images": [
      { "url": "https://...", "type": "url" },
      { "url": "https://...", "type": "url" },
      { "url": "https://...", "type": "url" }
    ],
    "title": "–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –ø–æ—Å—Ç –æ —Ç–æ–≤–∞—Ä–µ",
    "description": "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤ –æ —Å–ª—É—á–∞–π–Ω–æ–º —Ç–æ–≤–∞—Ä–µ",
    "is_active": true,
    
    "recurrence_type": "daily",
    "recurrence_interval": 1,
    "recurrence_end_type": "never",
    
    "aiGenerationParams": {
      "systemPrompt": "–¢—ã –æ–ø—ã—Ç–Ω—ã–π SMM-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç. –ü–∏—à–∏ –∂–∏–≤–æ –∏ —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ.",
      "userPrompt": "–ù–∞–ø–∏—à–∏ –ø—Ä–æ–¥–∞—é—â–∏–π –ø–æ—Å—Ç –æ —Ç–æ–≤–∞—Ä–µ. –ò—Å–ø–æ–ª—å–∑—É–π —ç–º–æ–¥–∑–∏.",
      "productId": "project_abc_123",
      "productFields": ["title", "price", "description"],
      "companyFields": ["–ù–∞–∑–≤–∞–Ω–∏–µ", "–¢–µ–ª–µ—Ñ–æ–Ω"],
      "mediaMode": "subset",
      "mediaSubsetCount": 1,
      "mediaSubsetType": "random"
    }
  }
}
```

### 2. –†–µ–∑—É–ª—å—Ç–∞—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

–î–æ–ø—É—Å—Ç–∏–º –∫–æ–Ω—Ç–µ–∫—Å—Ç:
```
[–ö–û–ù–¢–ï–ö–°–¢ –¢–û–í–ê–†–ê]
–ù–∞–∑–≤–∞–Ω–∏–µ: –ö—Ä–æ—Å—Å–æ–≤–∫–∏ Nike Air Max, –¶–µ–Ω–∞: 12990 —Ä—É–±., –û–ø–∏—Å–∞–Ω–∏–µ: –ö–æ–º—Ñ–æ—Ä—Ç–Ω—ã–µ –∫—Ä–æ—Å—Å–æ–≤–∫–∏

[–ö–û–ù–¢–ï–ö–°–¢ –ö–û–ú–ü–ê–ù–ò–ò]
–ù–∞–∑–≤–∞–Ω–∏–µ: SportShop
–¢–µ–ª–µ—Ñ–æ–Ω: +7 (999) 123-45-67
```

AI –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç:
```
üëü –ö—Ä–æ—Å—Å–æ–≤–∫–∏ Nike Air Max ‚Äî –≤–∞—à –∏–¥–µ–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è —Å–ø–æ—Ä—Ç–∞ –∏ –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–π –∂–∏–∑–Ω–∏!

üí∞ –í—Å–µ–≥–æ 12 990 ‚ÇΩ

‚úÖ –ö–æ–º—Ñ–æ—Ä—Ç–Ω—ã–µ
‚úÖ –°—Ç–∏–ª—å–Ω—ã–µ
‚úÖ –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ

üìû –ó–∞–∫–∞–∑—ã–≤–∞–π—Ç–µ: +7 (999) 123-45-67

#SportShop #NikeAirMax #–∫—Ä–æ—Å—Å–æ–≤–∫–∏
```

## üéØ –†–µ–∂–∏–º—ã –º–µ–¥–∏–∞

### `all` ‚Äî –í—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

–ü—É–±–ª–∏–∫—É—é—Ç—Å—è –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ –ø—É–ª–∞.

### `subset` + `random` ‚Äî –°–ª—É—á–∞–π–Ω–∞—è –≤—ã–±–æ—Ä–∫–∞

–ö–∞–∂–¥—ã–π —Ä–∞–∑ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è N —Å–ª—É—á–∞–π–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–∑ –ø—É–ª–∞.

### `subset` + `order` ‚Äî –ü–æ –ø–æ—Ä—è–¥–∫—É

–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤—ã–±–∏—Ä–∞—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∫—É—Ä—Å–æ—Ä–∞:
- 1-—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è: —Ñ–æ—Ç–æ 1, 2, 3
- 2-—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è: —Ñ–æ—Ç–æ 4, 5, 6
- 3-—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è: —Ñ–æ—Ç–æ 7, 1, 2 (—Ü–∏–∫–ª)

–ö—É—Ä—Å–æ—Ä —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `mediaCursor` –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏.

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- **GeminiService**: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑ Google AI
- **GlobalVariableService**: –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö `{var_name}`
- **MarketItem**: —Ç–æ–≤–∞—Ä—ã –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ VK
- **ProjectContextValue**: –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –ø–æ–ª—è –∫–æ–º–ø–∞–Ω–∏–∏
- **PostService**: –ø—É–±–ª–∏–∫–∞—Ü–∏—è –≤ VK
- **Scheduler**: –∑–∞–ø—É—Å–∫ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–ü—É–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è** ‚Äî –ø–æ—Å–ª–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç, –ø—É–ª —Ñ–æ—Ç–æ –æ—Å—Ç–∞—ë—Ç—Å—è –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

2. **–ö—É—Ä—Å–æ—Ä –¥–ª—è order-—Ä–µ–∂–∏–º–∞** ‚Äî —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `ai_generation_params` –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

3. **–°–±—Ä–æ—Å –æ—à–∏–±–∫–∏** ‚Äî –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–æ—Å—Ç–∞ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `error` —Å—Ç–∞—Ç—É—Å —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ `pending_publication`

4. **–ü–æ–∏—Å–∫ –±–µ—Å–∫–æ–Ω—Ñ–ª–∏–∫—Ç–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏** ‚Äî `find_conflict_free_time()` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–¥–≤–∏–≥–∞–µ—Ç –¥–∞—Ç—É, –µ—Å–ª–∏ —Å–ª–æ—Ç –∑–∞–Ω—è—Ç

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 23 —è–Ω–≤–∞—Ä—è 2026*
