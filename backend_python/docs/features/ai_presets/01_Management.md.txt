# Управление Шаблонами AI-инструкций (AI Presets)

**Ключевой файл:** `backend_python/services/ai_prompt_preset_service.py.txt`
**Роутер:** `backend_python/routers/ai_presets.py.txt`

Этот модуль предоставляет API для управления шаблонами системных инструкций AI-помощника.

---

## 1. Концепция Шаблонов (Presets)

Шаблоны AI-инструкций позволяют пользователям сохранять и повторно использовать удачные системные промпты для генерации контента. Каждый шаблон привязан к конкретному проекту, что позволяет создавать уникальные наборы инструкций для разных сообществ.

-   **Сущность:** Шаблон (`AiPromptPreset`) имеет `name` (название, которое видит пользователь) и `prompt` (сам текст инструкции).

---

## 2. API и Поток данных

### `POST /api/ai-presets/getForProject`
-   **Назначение:** Получить все шаблоны для одного проекта.
-   **Логика:** Вызывает `crud.get_presets_by_project_id`.

### `POST /api/ai-presets/create`
-   **Назначение:** Создать новый шаблон для проекта.
-   **Логика:** Вызывает `crud.create_preset`, который создает новую запись в таблице `ai_prompt_presets` с новым `uuid`.

### `POST /api/ai-presets/update/{preset_id}`
-   **Назначение:** Обновить название или текст существующего шаблона.
-   **Логика:** Вызывает `crud.update_preset`.

### `POST /api/ai-presets/delete/{preset_id}`
-   **Назначение:** Удалить шаблон.
-   **Логика:** Вызывает `crud.delete_preset`.

---

## 3. Интеграция

-   **Управление:** Интерфейс для CRUD-операций с шаблонами находится в модальном окне **"Настройки проекта"**.
-   **Использование:** Загруженный список шаблонов отображается в интерфейсе **AI-помощника** (`AIGenerator`), позволяя пользователю быстро подставить нужную инструкцию в поле для системного промпта.
