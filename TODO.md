# Заметки по разработке (TODO)

Этот файл содержит список задач и идей для дальнейшего развития приложения.

## К реализации (To Do)

- [ ] Улучшить UX отображения длинных промптов в AI-помощнике (line-clamp и кнопка "Показать полностью").
- [ ] Добавить возможность создавать шаблоны постов.
- [ ] Улучшить AI-генератор текста: добавить выбор "тональности" (например, официальный, юмористический).
- [ ] Добавить фильтрацию и поиск постов по тегам в календаре.
- [ ] Реализовать галерею "Агентства".
- [ ] Заполнить все разделы обучающего центра контентом.

## В процессе (In Progress)


## Реализовано (Done)

- ~~Рефакторинг `StoriesAutomationPage`: разделение на хук, типы и компоненты для оптимизации поддержки.~~
- ~~Реализован просмотр активных историй сообщества в статистике автоматизации.~~
- ~~Исправлена логика обновления статистики одной истории (без перезагрузки всего списка).~~
- ~~Исправлен сбой в компоненте CustomTimePicker при выборе времени.~~
- ~~Исправлена ошибка с сохранением данных (описание, текст поста) в универсальных конкурсах.~~
- ~~Реализована визуализация постов универсальных конкурсов в календаре (стилизация, модальное окно просмотра и навигация).~~
- ~~Улучшение адаптивности статистики: график и карточки теперь корректно отображаются на широких экранах.~~
- ~~Реализовать аналитику по опубликованным постам (лайки, репосты, комментарии) и графики.~~
- ~~Исправлена критическая ошибка `IntegrityError` при обновлении постов (дубликаты ID).~~
- ~~Внедрена валидация данных в разделе "Товары" (проверка обязательных полей и форматов).~~
- ~~Реализовать и задокументировать раздел "Товары".~~
- ~~Улучшен интерфейс AI-помощника: добавлены кнопки-иконки и функция повторной генерации.~~
- ~~Реализована функция "ответить на сообщение" в чате AI-помощника с цитированием и переходом к исходному сообщению.~~
- ~~Добавить валидацию на уникальность для названий и ключей глобальных переменных.~~
- ~~Улучшить редактор глобальных переменных в модальном окне настроек проекта, сделав его аналогичным редактору переменных проекта.~~
- ~~Реализована система **глобальных переменных**, позволяющая администраторам определять переменные на уровне системы, а пользователям — задавать их значения для каждого проекта и использовать в постах.~~
- ~~Добавить подтверждение закрытия модального окна поста, если открыты панели AI-помощника или переменных.~~
- ~~Произведена оптимизация и рефакторинг файла services/api.ts для улучшения модульности.~~
- ~~Исправить баг с наложением элементов при изменении размера поля 'Результат генерации' в AI-помощнике.~~
- ~~Внедрить "умную" сортировку (автоматический сдвиг) на странице управления базой проектов.~~
- ~~Добавить функцию автонумерации пустых полей № на странице управления базой проектов.~~
- ~~Устранен баг с z-index, из-за которого выпадающее меню "Ещё" в карточке поста отображалось под другими элементами.~~
- ~~Кэшировать настройки видимости колонок на странице "Управление базой проектов".~~
- ~~В разделе "Управление базой проектов" добавить поле для ручной сортировки проектов.~~
- ~~Задокументирован и автоматизирован процесс развертывания бэкенда на предпродакшен с помощью batch-скрипта.~~
- ~~Решена проблема с геоблокировкой Gemini API через добавление поддержки SOCKS5 прокси-сервера.~~
- ~~Внедрено предпродакшен-окружение для безопасного тестирования перед выкаткой в продакшен.~~
- ~~Документировать Экран приветствия (Welcome Screen).~~
- ~~При активном состоянии "Опубликовать сейчас" функция "Создать несколько постов" должна быть скрыта.~~
- ~~Реализовано развертывание бэкенда в Yandex.Cloud и добавлена возможность динамического переключения между 'продакшен' и 'локальным' окружениями через UI.~~
- ~~Внедрена полноценная система авторизации и управления пользователями с разделением ролей (администратор/пользователь).~~
- ~~При нажатии на добавить тег /добавить переменную нужно чтобы сам скролл тоже кидался сразу вниз, а так получается что пользователь открыл например переменные или теги, нажал на добавить тег/переменную, потом ему приходится еще скролить вниз , чтобы заполнить нужные данные.~~
- ~~При активации кнопки выбрать (массовое выделение публикаций) - нужно залочить возможность драг дропа.~~
- ~~Добавить выбор места назначения (система/отложка VK) при копировании поста через drag-and-drop.~~
- ~~Заблокировать кнопку сохранения во время загрузки медиафайлов, чтобы предотвратить сохранение неполных данных.~~
- ~~Исправлен баг рассинхронизации, из-за которого изображения, добавленные из галереи, не сохранялись в посте.~~
- ~~Сделать панель управления в календаре (`ScheduleHeader`) адаптивной под разные размеры экрана.~~
- ~~Добавить два режима отображения календаря: "недельный" и "сегодняшний".~~
- ~~Исправлен баг с модальным окном предпросмотра изображений (некорректное закрытие, z-index и стиль).~~
- ~~Исправлен баг рассинхронизации UI на вкладке предложенных постов после фонового обновления.~~
- ~~Исправить логику присвоения тегов для поиска точного совпадения по слову (например, чтобы "3" не срабатывал на "33").~~
- ~~Задокументирован и регламентирован весь функционал, связанный с опубликованными постами.~~
- ~~Устранен баг с некорректными ссылками на посты в карточках.~~
- ~~Реализовано целевое обновление данных после публикации постов из разных источников.~~
- ~~Исправлена ошибка, из-за которой модальное окно не закрывалось после редактирования опубликованного поста.~~
- ~~Сделать универсальной систему проверки конфликтов времени при создании постов, чтобы она учитывала и системные, и отложенные VK публикации.~~
- ~~Рефакторинг модального окна поста: перенести блок 'Способ публикации' наверх и заменить тумблер 'В отложку ВК' на третью кнопку.~~
- ~~Переработано меню "Обновить", добавлены отдельные кнопки для обновления системных постов, заметок и тегов, и упорядочены элементы.~~
- ~~Устранен визуальный баг с "подпрыгиванием" кнопок в сайдбаре при анимации наведения.~~
- ~~Внедрение "Системных Публикаций" для надежной автоматической публикации по расписанию.~~
- ~~Оптимизация загрузки изображений в галерее: исправлен баг с отображением новых фото и обновлением счетчика альбома после загрузки.~~
- ~~Внедрена полнофункциональная **Image Gallery** с возможностью создавать альбомы, загружать фото, просматривать их и добавлять в посты.~~
- ~~Внедрен **Emoji Picker** для удобной вставки эмодзи в текст поста.~~
- ~~Добавлена полнофункциональная **страница управления базой данных проектов** с массовым редактированием, добавлением по URL и настройкой видимости колонок.~~
- ~~Реализована продвинутая **система тегирования**, включая управление тегами в настройках проекта и их автоматическое присвоение постам.~~
- ~~Сделан сворачиваемым блок **"AI-помошник"** в модальном окне поста для улучшения UX.~~
- ~~Реализована возможность **создания новых команд** из настроек проекта.~~
- ~~Усовершенствован **Callback API** для более детальной и надежной обработки событий от VK (включая предложенные посты).~~
- ~~Реализована надежная система **фоновых обновлений данных** через polling, с визуальной индикацией в сайдбаре.~~
- ~~Добавлен фильтр **"Есть посты"** для отображения проектов, где есть контент.~~
- ~~Добавлены файлы `CHANGELOG.md` и `TODO.md` для ведения документации по проекту.~~
- ~~Устранена проблема "прыжка" интерфейса (layout shift) при загрузке изображений в карточках постов.~~
- ~~Произведен рефакторинг и декомпозиция сложного компонента `PostDetailsModal`.~~
- ~~Внедрена "умная" логика загрузки для предложенных постов, аналогичная расписанию (проверка кэша, обработка ошибок доступа и пустых списков).~~
- ~~Устранен баг с некорректными обработкой флагов ошибок доступа при массовом и ручном обновлении.~~
- ~~Произведен рефакторинг сервиса VK API для улучшения модульности и поддержки.~~
- ~~При удалении опубликованного поста - нужно обновлять базу и расписание (аналогично как после удаления отложенных).~~
- ~~Внедрен новый раздел "Центр обучения" и задокументирована его структура в UI-ките.~~
- ~~Окончательно устранен баг с "морганием" изображений в PostCard при изменении состояния родителя (например, переключении видимости тегов).~~
- ~~Заменить все блокирующие `alert()` на Toast-уведомления.~~
- ~~Реализовать недостающие функции Универсальных конкурсов (условие 'Спонсор', доработка карточки списка).~~