
# Журнал изменений (Changelog) - Часть 8

Этот файл содержит историю версий и описание основных изменений в приложении "VK Content Helper", начиная с версии 1.71.0.

## Версия 1.71.0 - 2024-08-10

-   **Улучшение безопасности: Шифрование данных в БД**
    -   **Что внедрено:** Реализовано шифрование чувствительных данных "at rest" (в состоянии покоя).
    -   **Защищенные поля:**
        -   Токены сообществ (`communityToken`).
        -   Дополнительные токены сообществ.
        -   Токены системных аккаунтов.
        -   API-ключи Gemini (`ai_tokens`).
    -   **Автоматическая миграция:** При запуске новой версии сервер автоматически находит незашифрованные токены в базе данных и шифрует их, обеспечивая плавный переход на новую систему безопасности без потери данных.
    -   **Инструментарий:** Добавлен скрипт `scripts/rotate_keys.py` для безопасной смены ключа шифрования в будущем.

## Версия 1.72.0 - 2025-12-30

-   **Улучшение UX: Глобальная система уведомлений (Toasts)**
    -   **Полная замена `alert()`:** Все блокирующие нативные уведомления браузера (`alert()`) заменены на неблокирующие всплывающие уведомления (Toasts).
    -   **Охват:** Обновлены все модули приложения, включая авторизацию, списки, расписание, товары, конкурсы, управление базой данных и контексты.
    -   **Типизация:** Уведомления теперь имеют четкие типы: успех (зеленый), ошибка (красный), предупреждение (желтый), информация (синий).

-   **Доработка функционала: Универсальные конкурсы**
    -   **Новое условие "Спонсор":** В конструктор условий добавлена возможность требовать подписку на стороннюю группу (по ID).
    -   **Улучшение карточки конкурса:**
        -   Добавлена визуализация статуса "Ошибка" (красная обводка).
        -   Добавлено отображение даты подведения итогов или таймера обратного отсчета.
        -   Улучшена цветовая индикация статусов (Активен, Пауза, Завершен, Запланирован).

## Версия 1.73.0 - 2026-01-14

-   **Улучшение UI/UX: Адаптивность статистики**
    -   **Сетка для карточек статистики:** Переработан макет секции статистики пользователей. Вместо простого `flex-wrap` теперь используется адаптивная `grid`-сетка, что предотвращает дисбаланс размеров карточек.
    -   **Улучшенная адаптивность:** Удалены жесткие ограничения минимальной ширины (`min-width`) у карточек "География", "Возраст" и "Дни рождения", которые вызывали наложение элементов друг на друга на узких экранах.
    -   **Оптимизированный макет для графиков:** Карточки с широкими гистограммами ("Возраст" и "Дни рождения") теперь занимают 2 колонки на средних и больших экранах, обеспечивая лучшую читаемость данных.
    -   **Респонсивный график активности:** Компонент графика переписан с использованием `ResizeObserver`. Теперь график корректно адаптируется под ширину контейнера без искажения пропорций текста и круглых маркеров.
